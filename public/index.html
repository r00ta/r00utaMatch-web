<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="%PUBLIC_URL%/css/style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>
   <!-- Make sure you put this AFTER Leaflet's CSS -->
   <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
   integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
   crossorigin=""></script>

   <script type = "text/javascript" src = "%PUBLIC_URL%/js/map-utils.js" ></script>

   <div>
     <div class="column left">
       <h2>Input the coordinates</h2>
       <form>
       <div class="form-group">
         <label for="coordinateInputForm">Your Coordinates (new line as separator)</label>
         <textarea class="form-control" id="coordinatesTextArea"></textarea>
       </div>
       <input class="btn btn-primary" type="submit" value="Submit" id="coordinatesInputButton">
     </form>
     </div>
     <div class="column right">
       <div id="mapid" style="width: 100%; height: 50vw"></div>
     </div>
   </div>

   <script>
    var mymap;
   	mymap = L.map('mapid').setView([45.203944, 9.134636], 13);

    addMapCopyright(mymap);

    var layerGroup = L.layerGroup().addTo(mymap);

    var myEl = document.getElementById('coordinatesInputButton');

    myEl.addEventListener('click', function(event) {
        event.preventDefault();
        layerGroup.clearLayers();
        var coordinatesText = document.getElementById("coordinatesTextArea").value;
        var coordinatesList = getListCoordinates(coordinatesText);
        for(var point of coordinatesList){
          L.marker([point.lat, point.lon]).addTo(layerGroup);
        }
        mymap.setView([coordinatesList[0].lat, coordinatesList[0].lon], 13);
    }, false);

   </script>

  </body>
</html>
